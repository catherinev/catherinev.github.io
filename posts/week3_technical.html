<!DOCTYPE html>
<html>
	<head>
		<title>Blog Post</title>
		<link rel="stylesheet" type="text/css" href="../Stylesheets/reset.css" charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="../Stylesheets/style.css" charset="utf-8"/>
		<link href='http://fonts.googleapis.com/css?family=Gafata' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Roboto:900,300,100italic' rel='stylesheet' type='text/css'>
	</head>

	<body>
		<h1>Catherine Vongsathorn</h1>
		<div class = "nav">
			<div><a href = "../index.html">Home</a></div>
			<div><a href = "../about.html">About</a></div>
			<div><a href = "../blog.html" class = "current">Blog</a></div>
			<div><a href = "../experience.html">Experience</a></div>
			<div><a href = "../links.html">Links</a></div>
		</div>
		<h2>Thursday, March 27, 2014</h2>
		<div class = "post">
			<h3>What are the various ways to loop in Ruby and how can you decide which is best to use?</h3>
			<p>There are many ways to loop in Ruby.  Below are some of the more common options.</p>
				<ol>
					<li><codein>#each</codein>
						<code><grn>[collection]</grn>.each do |element| <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
						<p>The <codein><grn>[collection]</grn></codein> is often an array but can also be a range, e.g. (1..100), or a hash.</p>
						<p><codein>#each</codein> is one of the most common ways to loop in Ruby.  In fact, if you can think of a way to execute your loop using <codein>#each</codein>, then <codein>#each</codein> is probably a pretty good option.  It's pretty versatile since it can be called on arrays, hashes, and ranges.</p>
						<p>Some related iterators are <codein>#each_index, #each_key,</codein> and <codein>#each_value,</codein> which loop over the indices of an array, the keys of a hash, and the values of a hash, respectively. </p>
					</li>
					<li><codein>#times</codein>
						<code><grn>[integer]</grn>.times do <br/><grn>&emsp;&emsp;[some code]</grn><br/>end</code><br/>
						<code><grn>[integer]</grn>.times do |index| <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
						<codein>#times</codein> is a good option if you are trying to repeat the same block of code a set number of times.  For example, for a particular <codein>array</codein> you may want to execute the same block of code <codein>array.length</codein> number of times.
					</li>
				
					<li><codein>while</codein> and <codein>until</codein>
						<code>while <grn>[condition]</grn> <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
					
						<code>until <grn>[condition]</grn> <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code><br/>
						<p>One of the cool things about <codein>while</codein> and <codein>until</codein> is that they can be used as modifiers, which is nice and is often a shorter way to write the loops:</p>
						<code><grn>[some code]</grn> while <grn>[condition]</grn></code>
						<code><grn>[some code]</grn> until <grn>[condition]</grn></code><br/>

						<p><codein>while</codein> and <codein>until</codein> loops can be thought of as two sides of the same coin.  In fact <codein>while true == until false</codein>, so the two looping constructs are effectively equivalent; anytime you can use one, you can just as easily use the other.</p>
						<p>It's fairly easy to create infinite loops with <codein>while</codein> and <codein>until</codein>, so be careful!  Make sure that your conditional statements will eventually evaluate to false/true for <codein>while/until</codein>, respectively.</p>
						<p>Note that <codein>while</codein> and <codein>until</codein> are not methods, which means that any variable defined within <codein><grn>[some code]</grn></codein> is <em>not</em> defined locally within a method.  What does that mean?  Run the following code to find out:</p>
						<code> i = 0<br/> 
							while i < 5<br/>
							&emsp;&emsp; puts "Hello!"<br/>
							&emsp;&emsp; i += 1<br/>
							end<br/>
							puts i
						</code>
						<p>Notice how <codein>i</codein> changed?</p>
					</li>

					<li><codein>#upto</codein> and <codein>#downto </codein>
						<code><grn>[number]</grn>.upto(<grn>[number]</grn>) do |index| <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
					
						<code><grn>[number]</grn>.upto(<grn>[number]</grn>) do |index| <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
						<p>Note that these methods are inclusive at both ends of the range.  The primary advantage of these methods is that they are very readable.</p>
					</li>

					<li><codein>for </codein>
						<code>for i in <grn>[range]</grn> <br/>
						&emsp;&emsp;<grn>[some code]</grn><br/>
						end</code>
						<p>Usually you can use <codein>#each</codein> instead of a <codein>for</codein> loop.  <codein>#each</codein> is a better option in Ruby because, like <codein>while</codein> loop and <codein>until</codein> loops, <codein>for</codein> loops will store the iterator variable after the loop is done.  </p>
						<p>For example, if you execute <codein>for i in 1..10{puts "Hello!"}</codein>, then after that loop has completed you will have <codein>i = 10</codein>, the last value that <codein>i</codein> took on in the <codein>for</codein> loop.  This isn't necessarily a disaster, but it's important to be aware of, especially if you have previously defined the variable you use to iterate.</p>
					</li>
					<li><codein>#loop</codein>
						<code>loop do <br/>&emsp;&emsp;<grn>[some code]</grn><br/>end</code>
						<p><codein>loop</codein> is a very simple iterator, but use it with care.  Unless you add a break, it will create an infinite loop.  This loop is made more useful in conjunction with <codein>break if</codein> and <codein>next if</codein>.</p>
					</li>
					
					
				</ol>
				<p>Note: in all the examples above, <codein>do</codein> and <codein>end</codein> can be replaced with curly brackets <codein>{ }</codein>.  This is the preferred notation if the <codein><grn>[some code]</grn></codein> is one line.  For example, <codein>10.times{ puts "Hello!" }</codein>.
				</p>
				<p>Also, in this blog post I have not emphasized the distinction between iterators and looping constructs.  Technically, iterators are methods (i.e. take a block) and looping constructs are not.  Both are used to loop over stuff in Ruby, but iterators often eliminate index variables and make looping simpler.  As a challenge to the reader, I encourage you to consider which of the listed options are looping constructs and which are iterators (methods).  I have left you some hints!</p>
		</div>
	</body>
</html>